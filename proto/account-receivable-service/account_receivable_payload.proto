syntax = "proto3";

import "account-receivable-service/account_receivable_db.proto";
import "account-receivable-service/account_receivable_core.proto";

package account_receivable.service.v1;
option go_package = "./pb";

// #region General Request and Reuseable

message Pagination {
    int32 limit = 1;
    int32 page = 2;
    string sort = 3;
    string dir = 4;
    uint64 total_pages = 5;
    uint64 total_rows = 6;
    string filter = 7;
};

message GeneralBodyResponse {
    string process_id = 1;
    bool error = 2;
    uint32 code = 3;
    string message = 4;
};

message DataMapping {
    uint64 id = 1;
    string name = 2;
    string key = 3;
};

message BatchDetail {
    string company_code = 1;
    string company_name = 2;
    uint64 batch_id = 3;
    string batch_reff_no = 4;
    string file_name = 5;
    string mandate_category = 6;
    string mandate_type = 7;
    uint32 total_record = 8;
    uint32 data_successed = 9;
    uint32 data_rejected = 10;
    string make_date = 11;
    string credit_account_number = 12;
    string status = 13;
    string status_description = 14;
    double total_amount = 15;
    double amount_success = 16;
    double amount_reject = 17;
    string transaction_date = 18;
};

message ActionRequest {
    string process_id = 1;
    string action_type = 2;
    string company_code = 3;
    repeated uint64 batch_ids = 4;
    uint64 batch_type_id = 5;
	uint64 mandate_type_id = 6;
    string pass_code = 7;
};

message UserAuthority {
    bool isMaker = 1;
    bool isChecker = 2;
    bool isSigner = 3;
    bool isReleaser = 4;
};

message GetMappingRequest {
    string process_id = 1;
    uint64 company_id = 2;
    int32 limit = 3;
    int32 page = 4;
    string sort = 5;
    string dir = 6;
    string filter = 7;
};

message OverviewBatchDataDetail {
    uint32 total_record = 1;
    double total_amount = 2;
    uint32 total_data_successed = 3;
    double amount_successed = 4;
    uint32 total_data_rejected = 5;
    double amount_rejected = 6;
    uint32 total_data_processed = 7;
    double amount_processed = 8;
    uint32 total_record_successed = 9;
    uint32 total_record_rejected = 10;
};

message GetBatchDataRejectionDetailResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated BatchDataRejectionDetail data = 4;
    Pagination pagination = 5;
};

message BatchDataRejectionDetail {
    uint32 data_row = 1;
    string original_record = 2;
    repeated string reason = 3;
};

message ExportBatchDataDetailRequest {
    string process_id = 1;
    uint64 company_id = 2;
    string company_code = 3;
    uint64 file_type_id = 4;
    BatchDataDetailSearchCriteria export_criteria = 5;
    int32 limit = 6;
    int32 page = 7;
    string sort = 8;
    string dir = 9;
    string filter = 10;
};

message ExportBatchRejectionDetailRequest {
    string process_id = 1;
    uint64 company_id = 2;
    string company_code = 3;
    uint64 file_type_id = 4;
    BatchDataRejectionDetailSearchCriteria export_criteria = 5;
    int32 limit = 6;
    int32 page = 7;
    string sort = 8;
    string dir = 9;
    string filter = 10;
};

// #endregion

// #region Utils Request & Response

message HealthCheckResponse {
    string message = 1;
};

message ResCacheReq {
    string rcode = 1;
};

message ResCacheRes {
    string response = 1;
    string error = 2;
    string responseCode = 3;
    string status = 4;
};

// #endregion

// #region Receivable Overview Request & Response

message ReceivableOverviewRequest {
    string process_id = 1;
};

message ReceivableOverviewResponse {
    string process_id = 1;
    bool error = 2;
    uint32 code = 3;
    string message = 4;
    ReceivableOverviewData data = 5;
};

message ReceivableOverviewData {
    uint32 total_transaction = 1;
    uint32 total_successful = 2;
    uint32 total_in_progress = 3;
    uint32 total_unsuccessful = 4;
};

message ReceivableSummaryRequest {
    string process_id = 1;
    uint64 date_range_id = 2;
};

message ReceivableHistoryRequest {
    string process_id = 1;
    uint32 month = 2;
};

message ReceivableHistoryResponse {
    string process_id = 1;
    bool error = 2;
    uint32 code = 3;
    string message = 4;
    repeated ReceivableHistoryData data = 5;
};

message ReceivableHistoryData {
    string make_date = 1;
    string total_amount = 2;
};

message ReceivableTransactionInProgressRequest {
    string process_id = 1;
    int32 limit = 2;
    int32 page = 3;
    string sort = 4;
    string dir = 5;
    string filter = 6;
};

message ReceivableTransactionInProgressResponse {
    string process_id = 1;
    bool error = 2;
    uint32 code = 3;
    string message = 4;
    repeated ReceivableTransactionInProgressData data = 5;
    Pagination pagination = 6;
};

message ReceivableTransactionInProgressData {
    uint32 no = 1;
    string customer_ref_no = 2;
    string mandate_code = 3;
    string mandate_category = 4;
    string counter_party_name = 5;
    string amount = 6;
};

message RejectionMandateDetailsRequest {
    string process_id = 1;
    int32 limit = 2;
    int32 page = 3;
    string sort = 4;
    string dir = 5;
    string filter = 6;
};

message RejectionMandateDetailsResponse {
    string process_id = 1;
    bool error = 2;
    uint32 code = 3;
    string message = 4;
    repeated RejectionMandateDetailsData data = 5;
    Pagination pagination = 6;
};

message RejectionMandateDetailsData {
    uint32 no = 1;
    string effective_date = 2;
    string mandate_code = 3;
    string mandate_category = 4;
    string counter_party_name = 5;
    string mandate_type = 6;
};

// #endregion

// #region Batch Upload Request & Response

message BatchFileUploadMandateRequest {
    string process_id = 1;
    uint64 mandate_category_id = 2;
    uint64 file_format_id = 3;
    string file_type = 4;
    uint64 mandate_type_id = 5;
    string file_description = 6;
    string file_id = 7;
    string file_name = 8;
    bool is_draft = 9;
    uint64 company_id = 10;
    uint64 holding_id = 11;
    string company_code = 12;
    string company_name = 13;
};

message BatchFileUploadMandateRequestRPC {
    string process_id = 1;
    uint64 mandate_category_id = 2;
    uint64 mandate_type_id = 3;
    string file_description = 4;
    bool is_draft = 5;
    UserData user_data = 6;
    FileData file_data = 7;
    string file_name = 8;
};

message FileUploadMandateTaskData {
    string batch_reff_no = 1;
    BatchFileUploadMandateRequest data = 2;
};

message FileUploadMandateTaskDataRPC {
    string batch_reff_no = 1;
    BatchFileUploadMandateRequestRPC data = 2;
};

message BatchFileUploadDirectDebitRequest {
    string process_id = 1;
    uint64 file_format_id = 2;
    string file_type = 3;
    string file_description = 4;
    string file_id = 5;
    string file_name = 6;
    string credit_account_number = 7;
    string transaction_date = 8;
    bool is_draft = 9;
    uint64 company_id = 10;
    uint64 holding_id = 11;
    string company_code = 12;
    string company_name = 13;
    string charge_type = 14;
	uint64 mandate_type_id = 15;
};

message BatchFileUploadDirectDebitRequestRPC {
    string process_id = 1;
    string file_description = 2;
    string credit_account_number = 3;
    string transaction_date = 4;
    bool is_draft = 5;
	uint64 mandate_type_id = 6;
    UserData user_data = 7;
    FileData file_data = 8;
    string file_name = 9;
};

message FileUploadDirectDebitTaskData {
    string batch_reff_no = 1;
    BatchFileUploadDirectDebitRequest data = 2;
};

message FileUploadDirectDebitTaskDataRPC {
    string batch_reff_no = 1;
    BatchFileUploadDirectDebitRequestRPC data = 2;
};

message BatchFileUploadResponseData {
    string batch_reff_no = 1;
    BatchTypes batch_type = 2;
    FileFormats file_format = 3;
    string file_type = 4;
    string file_name = 5;
    MandateCategories mandate_category = 6;
    MandateTypes mandate_type = 7;
    uint64 company_id = 8;
    string credit_account_number = 9;
};

message BatchFileUploadResponse {
    string process_id = 1;
    bool error = 2;
    uint32 code = 3;
    string message = 4;
    BatchFileUploadResponseData data = 5;
};

message BatchFileUploadCheckDuplicateRequest {
    string process_id = 1;
    string file_name = 2;
    uint64 company_id = 3;
};

// #endregion

// #region Maker Confirmation Request & Response

message GetMakerConfirmationDataRequest {
    string process_id = 1;
    uint64 company_id = 2;
    MakerConfirmationSearchCriteria search_criteria = 3;
    int32 limit = 4;
    int32 page = 5;
    string sort = 6;
    string dir = 7;
    string filter = 8;
};

message MakerConfirmationSearchCriteria {
    uint64 batch_type_id = 1;
    string batch_reff_no = 2;
    uint64 file_format_id = 3;
    string file_name = 4;
    uint64 mandate_category_id = 5;
    uint64 mandate_type_id = 6;
    string credit_account_number = 7;
    string make_date_from = 8;
    string make_date_to = 9;
};

message GetMakerConfirmationDataResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated BatchDetail data = 4;
    Pagination pagination = 5;
};

message GetBatchDataDetailRequest {
    string process_id = 1;
    BatchDataDetailSearchCriteria search_criteria = 2;
    int32 limit = 3;
    int32 page = 4;
    string sort = 5;
    string dir = 6;
    string filter = 7;
    uint64 company_id = 8;
};

message BatchDataDetailSearchCriteria {
    uint64 batch_id = 1;
    uint64 batch_type_id = 2;
    bool is_history = 3;
    string created_date = 4;
    string mandate_code = 5;
    uint64 mandate_category_id = 6;
    uint64 status_id = 7;
    string created_by = 8;
    string updated_date = 9;
    string updated_by = 10;
};

message GetBatchDataDetailResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated BatchDataDetail data = 4;
    OverviewBatchDataDetail overview = 5;
    Pagination pagination = 6;
};

message BatchDataDetail {
    string company_code = 1;
    string company_name = 2;
    string mandate_code = 3;
    string mandate_category = 4;
    string counter_party_account = 5;
    string counter_party_name = 6;
    string payer_bank = 7;
    string amount_type = 8;
    string mandate_type = 9;
    string expired_date = 10;
    string status = 11;
    string customer_reff_no = 12;
    double transaction_amount = 13;
    string reason_status = 14;
    string maker_date = 15;
};

message GetBatchDataRejectionDetailRequest {
    string process_id = 1;
    BatchDataRejectionDetailSearchCriteria search_criteria = 2;
    int32 limit = 3;
    int32 page = 4;
    string sort = 5;
    string dir = 6;
    string filter = 7;
};

message BatchDataRejectionDetailSearchCriteria {
    uint64 batch_id = 1;
    uint64 batch_type_id = 2;
};

message ExportMakerConfirmationDataRequest {
    string process_id = 1;
    uint64 company_id = 2;
    string company_code = 3;
    uint64 file_type_id = 4;
    MakerConfirmationSearchCriteria export_criteria = 5;
    int32 limit = 6;
    int32 page = 7;
    string sort = 8;
    string dir = 9;
    string filter = 10;
};

// #endregion

// #region Mandate Management Request & Response

message MandateCreateSingleRequest {
    string process_id = 1;
    MandateManagementData data = 2;
    bool is_draft = 3;
    uint64 company_id = 4;
    uint64 holding_id = 5;
};

message MandateManagementData {
    string company_code = 1;
    string company_name = 2;
    uint64 mandate_category_id = 3;
    string mandate_code = 4;
    string credit_account_number = 5;
    uint64 mandate_type_id = 6;
    string counter_party_account_number = 7;
    string counter_party_name = 8;
    string counter_party_account_status = 9;
    string payer_bank = 10;
    uint64 amount_type_id = 11;
    double transaction_amount = 12;
    uint64 transaction_frequency_id = 13;
    string no_of_installment = 14;
    string effective_date = 15;
    string expired_date = 16;
    string remarks = 17;
    string address = 18;
    string phone_number = 19;
    string email_address = 20;
    string batch_reff_no = 21;
	string biller_id = 22;
	string debt_id = 23;
	MandatePurpose mandate_purpose =24;
};

message MandateCreateResponseData {
    string batch_reff_no = 1;
    string customer_reff_no = 2;
    MandateCategories mandate_category = 3;
    MandateTypes mandate_type = 4;
    string mandate_code = 5;
    string counter_party_account_number = 6;
    string counter_party_name = 7;
};

message MandateCreateSingleResponse {
    string process_id = 1;
    bool error = 2;
    uint32 code = 3;
    string message = 4;
    MandateCreateResponseData data = 5;
};

message MandateCreateSingleCheckDuplicateRequest {
    string process_id = 1;
    string mandate_code = 2;
    uint64 company_id = 3;
};

message InquiryCounterPartyRequest {
    string process_id = 1;
    string counter_party_account_number = 2;
};

message InquiryCounterPartyDataResponse {
    string counter_party_validation = 1;
    string counter_party_account_status = 2;
    string counter_party_account_type = 3;
};

message InquiryCounterPartyResponse {
    string process_id = 1;
    bool error = 2;
    uint32 code = 3;
    string message = 4;
    InquiryCounterPartyDataResponse data = 5;
};

message GetMandateDataRequest {
    string process_id = 1;
    uint64 company_id = 2;
    MandateSearchCriteria search_criteria = 3;
    int32 limit = 4;
    int32 page = 5;
    string sort = 6;
    string dir = 7;
    string filter = 8;
};

message MandateSearchCriteria {
    string company_code = 1;
    string company_name = 2;
    uint64 status_id = 3;
    string mandate_code = 4;
    uint64 mandate_category_id = 5;
    uint64 mandate_type_id = 6;
    string counter_party_account = 7;
    string counter_party_name = 8;
};

message GetMandateDataResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated MandateData data = 4;
    Pagination pagination = 5;
};

message MandateData {
    uint64 mandate_id = 1;
    string company_code = 2;
    string company_name = 3;
    string mandate_code = 4;
    string mandate_category = 5;
    string counter_party_account = 6;
    string counter_party_name = 7;
    string payer_bank = 8;
    string amount_type = 9;
    string trx_amount = 10;
    string mandate_expired_date = 11;
    string maker_date = 12;
    string mandate_type = 13;
    string status = 14;
    uint64 mandate_batch_detail_id = 15;
    string mandate_key = 16;
};

message GetMandateDataDetailRequest {
    string process_id = 1;
    string mandate_id = 2;
    uint64 mandate_batch_detail_id = 3;
    uint64 company_id = 4;
};

message GetMandateDataDetailResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    MandateDataDetail data = 4;
};

message MandateDataDetail {
    uint64 mandate_id = 1;
    string company_code = 2;
    string mandate_code = 3;
    uint64 mandate_type_id = 4;
    MandateCategories mandate_category = 5;
    string credit_account_number = 6;
    string counter_party_account = 7;
    string counter_party_name = 8;
    string counter_party_account_status = 9;
    string payer_bank = 10;
    AmountTypes amount_type = 11;
    string transaction_amount = 12;
    TransactionFrequencies transaction_frequency = 13;
    string no_of_installment = 14;
    string remarks = 15;
    string effective_date = 16;
    string expired_date = 17;
    string counter_party_address = 18;
    string counter_party_phone_no = 19;
    string counter_party_email = 20;
    uint64 mandate_batch_detail_id = 21;
};

message MandateUpdateRequest {
    string process_id = 1;
    MandateManagementData data = 2;
    bool is_draft = 3;
    uint64 company_id = 4;
    uint64 holding_id = 5;
};

message MandateUpdateResponse {
    string process_id = 1;
    bool error = 2;
    uint32 code = 3;
    string message = 4;
    BatchFileUploadResponseData data = 5;
};

message ExportMandateDataRequest {
    string process_id = 1;
    uint64 company_id = 2;
    uint64 file_type_id = 3;
    MandateSearchCriteria export_criteria = 4;
    int32 limit = 5;
    int32 page = 6;
    string sort = 7;
    string dir = 8;
    string filter = 9;
};

message MandateRequestToDirectDebit{
    string company_code=1;
	string company_name=2;
	uint64 mandate_category_id=3;
	uint64 mandate_type_id=4;
	uint64 mandate_id=5;
	string mandate_code=6;
	string credit_account_number=7;
	string effective_date=8;
	double transaction_amount=9;
	string remarks=10;
	bool is_edit=11;
	uint64 company_id = 12;
}
// #endregion

// #region Receivable Action Request & Response

message GetReceivableActionDataRequest {
    string process_id = 1;
    uint64 company_id = 2;
    ReceivableActionSearchCriteria search_criteria = 3;
    int32 limit = 4;
    int32 page = 5;
    string sort = 6;
    string dir = 7;
    string filter = 8;
};

message ReceivableActionSearchCriteria {
    uint64 status_id = 1;
    uint64 batch_type_id = 2;
    string transaction_type = 3;
    string credit_account_number = 4;
    string file_name = 5;
    uint64 mandate_type_id = 6;
    string make_date_from = 7;
    string make_date_to = 8;
    string batch_reff_no = 9;
};

message GetReceivableActionDataResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated BatchDetail data = 4;
    Pagination pagination = 5;
};

message ExportReceivableActionDataRequest {
    string process_id = 1;
    uint64 company_id = 2;
    string company_code = 3;
    uint64 file_type_id = 4;
    ReceivableActionSearchCriteria export_criteria = 5;
    int32 limit = 6;
    int32 page = 7;
    string sort = 8;
    string dir = 9;
    string filter = 10;
};

// #endregion

// #region Direct Debit Request & Response

message CreateDirectDebitRequest {
    string process_id = 1;
    DirectDebitData data = 2;
    bool is_draft = 3;
    uint64 company_id = 4;
    uint64 holding_id = 5;
    string charge_type = 6;
};

message DirectDebitData {
    string company_code = 1;
    string company_name = 2;
    uint64 mandate_category_id = 3;
    uint64 mandate_type_id = 4;
    uint64 mandate_id = 5;
    string mandate_code = 6;
    string customer_ref_no = 7;
    string transaction_ref_no = 8;
    string credit_account_number = 9;
    string transaction_date = 10;
    double transaction_amount = 11;
    string remarks = 12;
    string mandate_key = 13;
};

message DirectDebitTaskData {
    string batch_reff_no = 1;
    DirectDebitData data = 2;
};

message CreateDirectDebitResponseData {
    string batch_reff_no = 1;
    BatchTypes batch_type = 2;
    MandateCategories mandate_category = 3;
    MandateTypes mandate_type = 4;
    uint64 company_id = 5;
};

message CreateDirectDebitResponse {
    string process_id = 1;
    bool error = 2;
    uint32 code = 3;
    string message = 4;
    CreateDirectDebitResponseData data = 5;
};

message DirectDebitCheckDuplicateRequest {
    string process_id = 1;
    string customer_ref_no = 2;
    uint64 company_id = 3;
};

// #endregion

// #region Receivable Inquiry Request & Response

message GetReceivableInquiryDataRequest {
    string process_id = 1;
    uint64 company_id = 2;
    ReceivableInquirySearchCriteria search_criteria = 3;
    int32 limit = 4;
    int32 page = 5;
    string sort = 6;
    string dir = 7;
    string filter = 8;
};

message GetReceivableInquiryMandateDataRequest {
    string process_id = 1;
    uint64 company_id = 2;
    ReceivableInquirySearchCriteria search_criteria = 3;
    int32 limit = 4;
    int32 page = 5;
    string sort = 6;
    string dir = 7;
    string filter = 8;
};

message ReceivableInquirySearchCriteria {
    uint64 batch_type_id = 1;
    string counter_party_account = 2;
    string counter_party_name = 3;
    string file_name = 4;
    uint64 mandate_category_id = 5;
    uint64 mandate_type_id = 6;
    string credit_account_number = 7;
    string upload_date_from = 8;
    string upload_date_to = 9;
    string batch_reff_no = 10;
};

message GetReceivableInquiryDataResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated ReceivableInquiryDataDetail data = 4;
    Pagination pagination = 5;
};

message GetReceivableInquiryMandateDataResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated ReceivableInquiryMandateDataDetail data = 4;
    Pagination pagination = 5;
};

message ReceivableInquiryDataDetail {
    string company_code = 1;
    string company_name = 2;
    uint64 batch_id = 3;
    string batch_reff_no = 4;
    string file_name = 5;
    string mandate_category = 6;
    string mandate_type = 7;
    uint32 total_transaction = 8;
    double transaction_amount = 9;
    uint32 transaction_success = 10;
    double amount_success = 11;
    uint32 transaction_failed = 12;
    double amount_failed = 13;
    uint32 transaction_pending = 14;
    double amount_pending = 15;
    string maker_date = 16;
    string credit_account_number = 17;
    string status = 18;
    string transaction_date = 19;
};

message ReceivableInquiryMandateDataDetail {
    string company_code = 1;
    string company_name = 2;
    uint64 batch_id = 3;
    string batch_reff_no = 4;
    string file_name = 5;
    string mandate_category = 6;
    string mandate_type = 7;
    uint32 mandate_total = 8;
    uint32 mandate_success = 9;
    uint32 mandate_rejected = 10;
    string maker_date = 11;
    string credit_account_number = 12;
    string status = 13;
};

message GetReceivableInquiryBatchDataDetailRequest {
    string process_id = 1;
    ReceivableInquiryBatchDataDetailSearchCriteria search_criteria = 2;
    int32 limit = 3;
    int32 page = 4;
    string sort = 5;
    string dir = 6;
    string filter = 7;
};

message GetReceivableInquiryBatchMandateDataDetailRequest {
    string process_id = 1;
    ReceivableInquiryBatchMandateDataDetailSearchCriteria search_criteria = 2;
    int32 limit = 3;
    int32 page = 4;
    string sort = 5;
    string dir = 6;
    string filter = 7;
};

message ReceivableInquiryBatchDataDetailSearchCriteria {
    uint64 batch_id = 1;
    uint64 company_id = 2;
};

message ReceivableInquiryBatchMandateDataDetailSearchCriteria {
    uint64 batch_id = 1;
    uint64 company_id = 2;
    uint64 mandate_category_id = 3;
    uint64 mandate_type_id = 4;
    uint64 amount_type_id = 5;
    string payer_bank = 6;
    string upload_date_from = 7;
    string upload_date_to = 8;
};

message GetReceivableInquiryBatchDataDetailResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated ReceivableInquiryBatchDataDetail data = 4;
    OverviewBatchDataDetail overview = 5;
    Pagination pagination = 6;
};

message GetReceivableInquiryBatchMandateDataDetailResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated ReceivableInquiryBatchMandateDataDetail data = 4;
    OverviewBatchDataDetail overview = 5;
    Pagination pagination = 6;
};

message ReceivableInquiryBatchDataDetail {
    string company_code = 1;
    string company_name = 2;
    uint64 direct_debit_id = 3;
    uint64 direct_debit_batch_detail_id = 4;
    string mandate_code = 5;
    string customer_ref_no = 6;
    string mandate_category = 7;
    string counter_party_account = 8;
    string counter_party_name = 9;
    string payer_bank = 10;
    string transaction_amount = 11;
    string expired_date = 12;
    string reason_status = 13;
    string status = 14;
    string amount_type = 15;
    string mandate_type = 16;
};

message ReceivableInquiryBatchMandateDataDetail {
    string company_code = 1;
    string company_name = 2;
    string mandate_code = 3;
    string mandate_category = 4;
    string counter_party_account = 5;
    string counter_party_name = 6;
    string payer_bank = 7;
    string amount_type = 8;
    string transaction_amount = 9;
    string mandate_type = 10;
    string make_date = 11;
    string expired_date = 12;
    string status = 13;
};

message GetReceivableInquiryBatchDataRejectionDetailRequest {
    string process_id = 1;
    BatchReceivableInquiryDataRejectionDetailSearchCriteria search_criteria = 2;
    int32 limit = 3;
    int32 page = 4;
    string sort = 5;
    string dir = 6;
    string filter = 7;
};

message BatchReceivableInquiryDataRejectionDetailSearchCriteria {
    uint64 batch_id = 1;
    uint64 batch_type_id = 2;
};

message GetReceivableInquiryDataDetailRequest {
    string process_id = 1;
    uint64 batch_id = 2;
    uint64 direct_debit_id = 3;
    uint64 direct_debit_batch_detail_id = 4;
    uint64 company_id = 5;
};

message GetReceivableInquiryDataDetailResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    ReceivableInquiryData data = 4;
};

message ReceivableInquiryData {
    uint64 direct_debit_id = 1;
    uint64 direct_debit_batch_detail_id = 2;
    string company_code = 3;
    string company_name = 4;
    string mandate_code = 5;
    string customer_ref_no = 6;
    string transaction_ref_no = 7;
    string credit_account_number = 8;
    string transaction_date = 9;
    string transaction_amount = 10;
    string mandate_category = 11;
    string mandate_type = 12;
    string mandate_expired_date = 13;
    string transaction_status = 14;
    string liquidation_remark = 15;
    string remarks = 16;
    string counter_party_account = 17;
    string counter_party_name = 18;
    string payer_bank_name = 19;
    string counter_party_address = 20;
    string counter_party_phone_no = 21;
    string counter_party_email = 22;
    string charge_type = 23;
};

message ExportReceivableInquiryDataRequest {
    string process_id = 1;
    uint64 company_id = 2;
    string company_code = 3;
    uint64 file_type_id = 4;
    ReceivableInquirySearchCriteria export_criteria = 5;
    int32 limit = 6;
    int32 page = 7;
    string sort = 8;
    string dir = 9;
    string filter = 10;
};

message ExportReceivableInquiryDataDetailRequest {
    string process_id = 1;
    uint64 company_id = 2;
    string company_code = 3;
    uint64 file_type_id = 4;
    ReceivableInquiryBatchDataDetailSearchCriteria export_criteria = 5;
    int32 limit = 6;
    int32 page = 7;
    string sort = 8;
    string dir = 9;
    string filter = 10;
};

message ExportReceivableInquiryRejectionDetailRequest {
    string process_id = 1;
    uint64 company_id = 2;
    string company_code = 3;
    uint64 file_type_id = 4;
    BatchReceivableInquiryDataRejectionDetailSearchCriteria export_criteria = 5;
    int32 limit = 6;
    int32 page = 7;
    string sort = 8;
    string dir = 9;
    string filter = 10;
};

message ExportReceivableInquiryMandateDataRequest {
    string process_id = 1;
    uint64 company_id = 2;
    string company_code = 3;
    uint64 file_type_id = 4;
    ReceivableInquirySearchCriteria export_criteria = 5;
    int32 limit = 6;
    int32 page = 7;
    string sort = 8;
    string dir = 9;
    string filter = 10;
};

message ExportReceivableInquiryMandateDataDetailRequest {
    string process_id = 1;
    uint64 company_id = 2;
    string company_code = 3;
    uint64 file_type_id = 4;
    ReceivableInquiryBatchMandateDataDetailSearchCriteria export_criteria = 5;
    int32 limit = 6;
    int32 page = 7;
    string sort = 8;
    string dir = 9;
    string filter = 10;
};

// #endregion

// #region Receivable Reports Request & Response

message DownloadReceivableReportsRequest {
    string process_id = 1;
    uint64 company_id = 2;
    DownloadReceivableReportsCriteria download_criteria = 3;
};

message DownloadReceivableReportsCriteria {
    uint64 report_type_id = 1;
    string transaction_type = 2;
    string file_name = 3;
    uint64 file_type_id = 4;
    uint64 mandate_category_id = 5;
    uint64 mandate_type_id = 6;
    string credit_account_number = 7;
    string upload_date_from = 8;
    string upload_date_to = 9;
	string company_name = 10;
	uint64 company_id = 11;
    string batch_reff_no = 12;
    uint32 exe_generate = 13;
};

// #endregion

// #region Counter Party Validation (CPV) Request & Response

message BatchFileUploadCpvRequest {
    string process_id = 1;
    uint64 file_format_id = 2;
    string file_type = 3;
    string file_description = 4;
    string file_id = 5;
    string file_name = 6;
    uint64 company_id = 7;
    string company_code = 8;
    string company_name = 9;
};

message GetCpvDataRequest {
    string process_id = 1;
    uint64 company_id = 2;
    CpvSearchCriteria search_criteria = 3;
    int32 limit = 4;
    int32 page = 5;
    string sort = 6;
    string dir = 7;
    string filter = 8;
};

message CpvSearchCriteria {
    string counter_party_account = 1;
    string counter_party_name = 2;
    string counter_party_account_status = 3;
    string file_name = 4;
    string upload_date_from = 5;
    string upload_date_to = 6;
};

message GetCpvDataResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated CpvDataDetail data = 4;
    Pagination pagination = 5;
};

message CpvDataDetail {
    string company_code = 1;
    string company_name = 2;
    uint64 batch_id = 3;
    string file_name = 4;
    string validation_check_date = 5;
    string status = 6;
    uint32 total_record = 7;
};

message GetCpvBatchDataDetailRequest {
    string process_id = 1;
    CpvBatchDataDetailSearchCriteria search_criteria = 2;
    int32 limit = 3;
    int32 page = 4;
    string sort = 5;
    string dir = 6;
    string filter = 7;
};

message CpvBatchDataDetailSearchCriteria {
    uint64 batch_id = 1;
    uint64 company_id = 2;
};

message GetCpvBatchDataDetailResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated CpvBatchDataDetail data = 4;
    Pagination pagination = 5;
};

message CpvBatchDataDetail {
    string company_code = 1;
    string company_name = 2;
    string counter_party_account = 3;
    string counter_party_name = 4;
    string counter_party_validation = 5;
    string account_status = 6;
    string validation_check_date = 7;
};

message ExportCpvDataRequest {
    string process_id = 1;
    uint64 company_id = 2;
    string company_code = 3;
    uint64 file_type_id = 4;
    CpvSearchCriteria export_criteria = 5;
    int32 limit = 6;
    int32 page = 7;
    string sort = 8;
    string dir = 9;
    string filter = 10;
};

message ExportCpvDataDetailRequest {
    string process_id = 1;
    string company_code = 2;
    uint64 file_type_id = 3;
    CpvBatchDataDetailSearchCriteria export_criteria = 4;
    int32 limit = 5;
    int32 page = 6;
    string sort = 7;
    string dir = 8;
    string filter = 9;
};

// #endregion

// #region Data Mapping Request & Response

message GetMandateRequest {
    string process_id = 1;
    uint64 company_id = 2;
    ReceivableActionSearchCriteria search_criteria = 3;
    int32 limit = 4;
    int32 page = 5;
    string sort = 6;
    string dir = 7;
    string filter = 8;
};

message AmountTypeMappingsResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated AmountTypes data = 4;
};

message BatchTypeMappingsResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated BatchTypes data = 4;
};

message FeatureMappingsResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated Features data = 4;
};

message FileFormatMappingsRequest {
    uint64 company_id = 1;
    uint64 batch_type_id = 2;
	uint64 mandate_category_id = 3;
};

message FileFormatMappingsResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated FileFormats data = 4;
};

message MandateCategoryMappingsResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated MandateCategories data = 4;
};

message MandateTypeMappingsResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated MandateTypes data = 4;
};

message StatusMappingsResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated Statuses data = 4;
};

message TransactionFrequencyMappingsResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated TransactionFrequencies data = 4;
};

message ReceivableActionMappingsResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated DataMapping data = 4;
};

message GenerateReceivableReportsRequestV2 {
    uint64 company_id = 1;
	string company_name = 2;
    uint64 report_type_id = 3;
    uint64 file_type_id = 4;
    string file_name = 5;
    uint64 mandate_type_id = 6;
    string batch_reff_no = 7;
    string upload_date_from = 8;
    string upload_date_to = 9;
	string prosses_id = 10;
}

message GenerateReceivableReportsResponseV2 {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
}

message GetListReceivableReportV2 {
    string id = 1;
    string file_id = 2;
    string report_type = 3;
    string file_name = 4;
    uint64 file_size = 5;
    string period_date = 6;
    string request_time = 7;
    string status = 8;
    string company_name = 9;
}

message GetListReceivableReportRequestV2 {
	string process_id = 1;
    uint64 company_id = 2;
    string search = 3;
	int32 limit = 4;
    int32 page = 5;
    string sort = 6;
    string dir = 7;
}

message GetListReceivableReportResponseV2 {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
    repeated GetListReceivableReportV2 data = 4;
    Pagination pagination = 5;
}

message ReportHistoryResponse {
    string id = 1;
    string company_id = 2;
    string company_name = 3;
    string file_name = 4;
    string file_id = 5;
    string status_id = 6;
    uint64 file_size = 7;
    bytes search_criteria = 8;
    string created_by = 9;
    string request_time = 10;
    string period_time = 11;
    string generate_time = 12;
    uint64 batch_type_id = 13;
	string report_type = 14;
}

message DownloadBatchReceivableReportsRequestV2 {
    repeated DownloadBatchId data = 1;
}

message DownloadBatchId {
    string id = 1;
    string fileId = 2;
}

message CreateDirectDebitFrequencyRequest {
    string process_id = 1;
    DirectDebitData data = 2;
    bool is_draft = 3;
    uint64 company_id = 4;
    uint64 holding_id = 5;
    string charge_type = 6;
	double fee_amount =7;
	bytes notification = 8;
};

message CreateDirectDebitFrequencyResponse {
    string process_id = 1;
    bool error = 2;
    uint32 code = 3;
    string message = 4;
    repeated CreateDirectDebitResponseData2 data = 5;
};

message CreateDirectDebitResponseData2 {
    string batch_reff_no = 1;
    BatchTypes batch_type = 2;
    MandateCategories mandate_category = 3;
    MandateTypes mandate_type = 4;
    uint64 company_id = 5;
	uint64 batch_id = 6;
};

message BatchFileUploadDirectDebit2Request {
    string process_id = 1;
    uint64 file_format_id = 2;
    string file_type = 3;
    string file_description = 4;
    string file_id = 5;
    string file_name = 6;
    string credit_account_number = 7;
    string transaction_date = 8;
    bool is_draft = 9;
    uint64 company_id = 10;
    uint64 holding_id = 11;
    string company_code = 12;
    string company_name = 13;
    string charge_type = 14;
	double fee_amount = 15;
	uint64 batch_id = 16;
	bytes notification = 17;
};
message Response{
	repeated MandateBatchDetails2 response=1;
}
message RequestBatchId{
	uint64 batch_id=1;
}

message BatchFileUploadResponses {
    string process_id = 1;
    bool error = 2;
    uint32 code = 3;
    string message = 4;
    repeated BatchFileUploadResponseData data = 5;
};

message MandatePurpose{
	string id=1;
	string description=2;
}

message AccountEnquiryRequest {
	AccountEnquiryDataRequest account_inquiry = 1;
	string process_id =2;
  }


  message AccountEnquiryDataRequest {
	string reff_num = 1;
	string amount = 2;
	string bank_code = 3;
	string cr_account = 4;
	string cat_purpose = 5;
  }



  message AccountEnquiryBifastResponse {
	AccountEnquiryDataResponse response = 1 [json_name = "RESPONSE"];
}

message AccountEnquiryDataResponse {
    string error_code = 1 [json_name = "ERROR_CODE"];
    string response_code = 2 [json_name = "RESPONSE_CODE"];
    string response_message = 3 [json_name = "RESPONSE_MESSAGE"];
    string creditor_name = 4 [json_name = "CREDITOR_NAME"];
    string account_type = 5 [json_name = "ACCOUNT_TYPE"];
    string creditor_type = 6 [json_name = "CREDITOR_TYPE"];
    string creditor_id = 7 [json_name = "CREDITOR_ID"];
    string cr_resident_status = 8 [json_name = "CR_RESIDENT_STATUS"];
    string cr_town_name = 9 [json_name = "CR_TOWN_NAME"];
}


message PushNotificationRequest{
	PushNotificationRequestData request = 1 [json_name = "request"];
}

message PushNotificationRequestData{
	string reff_num =1 [json_name = "reffNum"];
	string end_to_end_id = 2 [json_name = "endToEndId"];
	string transaction_type = 3 [json_name = "transactionType"];
	string user_information = 4 [json_name = "userInformation"];
	EmandateData emandate_data = 5 [json_name = "emandateData"];
    DirectDebitDataBiFast directdebit_data = 6 [json_name = "directDebitData"];
}

message EmandateData{
	string operation = 1;
	string amount_type = 2 [json_name = "amountType"];
	string category_purpose = 3 [json_name = "categoryPurpose"];
	string sequence_type = 4 [json_name = "sequenceType"];
	string frequency_period_type = 5 [json_name = "frequencyPeriodType"];
	string countPerPeriod = 6 [json_name = "countPerPeriod"];
	string from_date = 7 [json_name = "fromDate"];
	string to_date = 8 [json_name = "toDate"];
	string first_coll_date = 9 [json_name ="firstCollDate"];
	string final_coll_date = 10 [json_name = "finalCollDate"];
	string first_coll_amount = 11 [json_name = "firstCollAmount"];
	string fixed_amount = 12 [json_name = "fixedAmount"];
	string max_amount = 13 [json_name = "maxAmount"];
	string mandate_purpose = 14 [json_name = "mandatePurpose"];
	string cdrt_name = 15 [json_name = "cdtrName"];
	string cdrt_org_id = 16 [json_name = "cdtrOrgId"];
	string cdrt_account = 17 [json_name = "cdtrAccount"];
	string cdrt_account_type = 18 [json_name = "cdtrAccountType"];
	string cdrt_account_name = 19 [json_name = "cdtrAccountName"];
	string cdrt_bank_code = 20 [json_name = "cdtrBankCode"];
	string dbtr_name = 21 [json_name ="dbtrName"];
	string dbtr_id = 22 [json_name = "dbtrId"];
	string dbtr_account = 23 [json_name = "dbtrAccount"];
	string dbtr_account_type = 24 [json_name = "dbtrAccountType"];
	string dbtr_account_name = 25 [json_name = "dbtrAccountName"];
	string dbtr_bank_code = 26 [json_name ="dbtrBankCode"];
	string billing_rltd_id = 27 [json_name = "billingRltdId"];
	string billing_disp_name = 28 [json_name ="billingDispName"];
	string reason_code=29 [json_name="reasonCode"];
	string reason_info = 30 [json_name= "reasonInfo"];
	string mandate_id = 31 [json_name = "mandateId"];
	string mandate_req_id = 32 [json_name ="mandateReqId"];
	string mandate_status = 33 [json_name ="mandateStatus"];
}
message DirectDebitDataBiFast{
    string rltd_reff_num = 1 [json_name = "rltdReffNum"];
    string rltd_end_to_end_id = 2 [json_name = "rltdEndToEndId"];
    string rltd_external_id = 3 [json_name = "rltdExternalId"];
    string transaction_date = 4 [json_name = "transactionDate"];
    string amount = 5 [json_name = "amount"];
    string bank_code = 6 [json_name = "bankCode"];
    string settlement_status = 7 [json_name = "settlementStatus"];
    string journal_sequence = 8 [json_name = "journalSequence"];
    string cdtr_account = 9 [json_name = "cdtrAccount"];
    string dbtr_account = 10 [json_name = "dbtrAccount"];
}
message PushNotificationResponse {
	PushNotificationDataResponse response=1 [json_name="response"];
}

message PushNotificationDataResponse{
	string error_code=1 [json_name = "errorCode"];
	string response_code = 2 [json_name = "responseCode"];
	string response_message = 3 [json_name = "responseMessage"];
}

message AccountEnquiryBifastHttpResponse {
    string process_id = 1;
    bool error = 2;
    uint32 code = 3;
    string message = 4;
    InquiryCounterPartyDataHttpResponse data = 5;
}

message InquiryCounterPartyDataHttpResponse {
    string counter_party_validation = 1;
    string counter_party_account_status = 2;
}

message MandatePurposeResponse {
    string process_id = 1;
    bool error = 2;
    uint32 code = 3;
    string message = 4;
    repeated MandatePurpose data = 5;
}

// message NotifAR{
// 	PushNotificationRequest request=1;
// 	PushNotificationResponse response =2;
// }
message UserData {
    string username = 1;
    string user_type = 2;
    uint64 company_id = 3;
    string company_name = 4;
    repeated uint64 role_ids = 5;
    uint64 holding_id = 6;
    string company_code = 7;
    uint64 user_id = 8;
}

message FileData {
    string filename = 1;
    string extension = 2;
    string ftp_port = 3;
    string ftp_host = 4;
    string ftp_username = 5;
    string ftp_password = 6;
    string ftp_folder_input = 7;
    string ftp_folder_output = 8;
    string ftp_receipt = 9;
    bool stp_status = 10;
    bool nstp_status = 11;
    bool is_maker_confirmation = 12;
    string file_protocol = 13;
    string file_id = 14;
    string charge_type = 15;
    int32 task_step = 16;
    double fee_amount = 17;
};

message GenerateShareFolderRequest {
    uint64 batch_id = 1;
    string filename = 2;
    FileTypeShareFolder type_file = 3;
    uint64 task_id = 4;
	uint64 batch_type_id = 5;
	Status status_batch = 6;
	FileData file_data = 7;
	uint64 company_id = 8;
};

message GenerateShareFolderResponse {
    bool error = 1;
    uint32 code = 2;
    string message = 3;
};

message NotificationData{
	string company_code = 1;
	string company_name =2;
	string batch_reff_no = 3;
	string customer_reff_no = 4;
	double transaction_amount=5;
	string counter_party_email=6;
	string mandate_code=7;
	uint64 company_id = 8;
}

message MandateDetailShareFolder{
	int32 no = 1;
	string company_code = 2;
	string Mandate_code = 3;
	string credit_account_number = 4;
	string counter_party_name = 5;
	string counter_party_account = 6;
	string payer_bank = 7;
	uint64 amount_type_id = 8;
	string currency = 9;
	double transaction_amount = 10;
	uint64 transaction_frequency_id = 11;
	string effective_date = 12;
	string expired_date = 13;
	string counter_party_address = 14;
	string counter_party_phone_no = 15;
	string counter_party_email = 16;
	string remarks = 17;
	uint64 mandate_category_id = 18;
	uint64 mandate_type_id = 19;
	uint64 status_id = 20;
	uint64 no_of_installment = 21;
	string make_date = 22;
	string source = 23;
	string file_name = 24;
	uint64 mandate_batch_detail_id = 25;
	string status_description = 26;
	string batch_reff_no = 27;
    string biller_id = 28;
    string debitor_id_number = 29;
    string mandate_purpose = 30;
	string status_descriptions =31;
}

message MandateDetails{
	uint64 batch_id=1;
	uint64 mandate_batch_detail_id =2;
	string status_description = 3;
}

message DirectDebitDetailShareFolder{
	int32 no = 1;
	string company_code = 2;
	string Mandate_code = 3;
	string customer_reff_no = 4;
	string amount = 5;
	string remarks = 6;
	string transaction_status = 7;
	string liquidation_remark = 8;
	string transaction_ref_no = 9;
	string credit_account_number = 10;
	string counter_party_account_number = 11;
	string counter_party_name = 12;
	string payer_bank = 13;
	string payer_bank_name = 14;
	string counter_party_address = 15;
	string phone_number = 16;
	string email_address = 17;
	string transaction_currency = 18;
	string mandate_category = 19;
	uint64 mandate_type_id = 20;
	string mandate_expired_date = 21;
	string maker_date = 22;
	string transaction_date = 23;
	string file_name = 25;
    string status = 26;
    string status_description = 27;
}

message CheckShareFolderRequest{
	uint64 batch_id =1;
}
message CheckShareFolderResponse{
	uint64 count = 1;
}

message DirectDebitRpcRequest{
	uint64 batch_id =1;
	FileData file_data = 2;
	uint64 company_id = 3;
	bytes notification = 4;
}

message FileDatas1{
	uint64 batch_id = 1;
	string file_description =2;
	string file_details =3;
   }
