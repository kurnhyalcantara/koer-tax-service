syntax = "proto3";

import "google/protobuf/timestamp.proto";
import "account-receivable-service/account_receivable_core.proto";
import "protoc-gen-gorm/options/gorm.proto";
import "google/api/field_behavior.proto";

package account_receivable.service.v1;
option go_package = "./pb";

message Batchs {
    uint64 batch_id = 1;
    string batch_reff_no = 2;
    BatchType batch_type_id = 3;
    MandateCategory mandate_category_id = 4;
    MandateType mandate_type_id = 5;
    uint64 task_id = 6;
    bool is_edit = 7;
    uint64 company_id = 8;
    string company_code = 9;
    string company_name = 10;
    google.protobuf.Timestamp make_date = 11;
    string credit_account_number = 12;
    google.protobuf.Timestamp transaction_date = 13;
    Status status_id = 14;
    string status_description = 15;
    string charge_type = 16;
    double fee_amount = 17;
	bytes notification = 18;
    string created_by = 51;
    google.protobuf.Timestamp created_dt = 52;
    string updated_by = 53;
    google.protobuf.Timestamp updated_dt = 54;
};

message BatchFileUploads {
    uint64 batch_file_upload_id = 1;
    uint64 batch_id = 2;
    uint64 file_format_id = 3;
    string file_type = 4;
    string file_name = 5;
    string file_description = 6;
    string file_listener_id = 7;
    bytes file_details = 8;
    uint32 total_record = 9;
    string created_by = 51;
    google.protobuf.Timestamp created_dt = 52;
    string updated_by = 53;
    google.protobuf.Timestamp updated_dt = 54;
};
message AmountTypes {
    uint64 amount_type_id = 1;
    string name = 2;
    string description = 3;
    string created_by = 51;
    google.protobuf.Timestamp created_dt = 52;
    string updated_by = 53;
    google.protobuf.Timestamp updated_dt = 54;
};

message Features {
    uint64 feature_id = 1;
    string name = 2;
    string description = 3;
    string created_by = 51;
    google.protobuf.Timestamp created_dt = 52;
    string updated_by = 53;
    google.protobuf.Timestamp updated_dt = 54;
};

message FileFormats {
    uint64 file_format_id = 1;
    uint64 company_id = 2;
    string name = 3;
    string extension = 4;
    string file_id = 5;
    bytes file_header = 6;
    string description = 7;
    string mandate_category_id = 8;
    string created_by = 51;
    google.protobuf.Timestamp created_dt = 52;
    string updated_by = 53;
    google.protobuf.Timestamp updated_dt = 54;
};

message MandateCategories {
    uint64 mandate_category_id = 1;
    string name = 2;
    string description = 3;
    string created_by = 51;
    google.protobuf.Timestamp created_dt = 52;
    string updated_by = 53;
    google.protobuf.Timestamp updated_dt = 54;
};

message MandateTypes {
    uint64 mandate_type_id = 1;
    string name = 2;
    string description = 3;
    string created_by = 51;
    google.protobuf.Timestamp created_dt = 52;
    string updated_by = 53;
    google.protobuf.Timestamp updated_dt = 54;
};

message Statuses {
    uint64 status_id = 1;
    string name = 2;
    string description = 3;
    string created_by = 51;
    google.protobuf.Timestamp created_dt = 52;
    string updated_by = 53;
    google.protobuf.Timestamp updated_dt = 54;
};

message TransactionFrequencies {
    uint64 transaction_frequency_id = 1;
    string name = 2;
    string description = 3;
    string created_by = 51;
    google.protobuf.Timestamp created_dt = 52;
    string updated_by = 53;
    google.protobuf.Timestamp updated_dt = 54;
};

message BatchTypes {
    uint64 batch_type_id = 1;
    string name = 2;
    string description = 3;
    string created_by = 51;
    google.protobuf.Timestamp created_dt = 52;
    string updated_by = 53;
    google.protobuf.Timestamp updated_dt = 54;
};

message Tasks {
    uint64 task_id = 1;
    uint64 company_id = 2;
    uint64 holding_id = 3;
    uint64 parents_id = 4;
    string comment = 5;
    bytes data = 6;
    uint32 status = 7;
    uint32 step = 8;
    string type = 9;
    uint64 feature_id = 10;
    uint64 parent_id = 11;
    bool is_parent_active = 12;
    string reasons = 13;
    bytes data_bak = 14;
    bytes child_bak = 15;
    bytes workflow_doc = 16;
    google.protobuf.Timestamp approved_at = 17;
    uint64 last_approved_by_id = 18;
    string last_approved_by_name = 19;
    google.protobuf.Timestamp rejected_at = 20;
    uint64 last_rejected_by_id = 21;
    string last_rejected_by_name = 22;
    google.protobuf.Timestamp created_at = 23;
    uint64 created_by_id = 24;
    string created_by_name = 25;
    google.protobuf.Timestamp updated_at = 26;
    uint64 updated_by_id = 27;
    string updated_by_name = 28;
    google.protobuf.Timestamp deleted_at = 29;
};

message MandateBatchDetails {
    uint64 mandate_batch_detail_id = 1;
    uint64 batch_id = 2;
    uint32 no = 3;
    string company_code = 4;
    string company_name = 5;
    string mandate_code = 6;
    string credit_account_number = 7;
    string counter_party_account = 8;
    string counter_party_account_status = 9;
    string counter_party_name = 10;
    string counter_party_address = 11;
    string counter_party_phone_no = 12;
    string counter_party_email = 13;
    string payer_bank = 14;
    string payer_bank_name = 15;
    string currency = 16; 
    AmountType amount_type_id = 17;
    double transaction_amount = 18;
    TransactionFrequency transaction_frequency_id = 19;
    uint32 no_of_installment = 20;
    string effective_date = 21;
    string expired_date = 22;
    string remarks = 23;
	string biller_id = 24;
	string dbtr_id = 25;
	MandatePurposes mandate_purpose =26;
    string created_by = 51;
    google.protobuf.Timestamp created_dt = 52;
    string updated_by = 53;
    google.protobuf.Timestamp updated_dt = 54;
};

message DirectDebitBatchDetails {
    uint64 direct_debit_batch_detail_id = 1;
    uint64 batch_id = 2;
    uint32 no = 3;
    string company_code = 4;
    string company_name = 5;
    uint64 mandate_id = 6;
    string mandate_code = 7;
    string customer_ref_no = 8;
    string transaction_ref_no = 9;
    string credit_account_number = 10;
    google.protobuf.Timestamp transaction_date = 11;
    double transaction_amount = 12;
    string remarks = 13;
	uint64 company_id = 14;
    string created_by = 51;
    google.protobuf.Timestamp created_dt = 52;
    string updated_by = 53;
    google.protobuf.Timestamp updated_dt = 54;
};

message ReportHistory {
    option (gorm.opts) = {
        ormable:true,
        table: "report_history",
    };
    string id = 1;
    string company_id = 2 [(google.api.field_behavior) = REQUIRED];
    string company_name = 3 [(google.api.field_behavior) = REQUIRED];
    string file_name = 4 [(google.api.field_behavior) = REQUIRED];
    string file_id = 5 [(google.api.field_behavior) = REQUIRED];
    uint64 status_id = 6 [(google.api.field_behavior) = REQUIRED];
    uint64 file_size = 7 [(google.api.field_behavior) = REQUIRED];
    string search_criteria = 8 [(gorm.field).tag = { type: "jsonb" }];
    string created_by = 9 [(google.api.field_behavior) = REQUIRED];
    google.protobuf.Timestamp request_time = 10;
    string period_time = 11;
    google.protobuf.Timestamp generate_time = 12;
    uint64 batch_type_id = 13;
}

message CheckMandate{
	uint64 mandate_id = 1;
	int64 no_of_installment =2;
	string effective_date=3;
	string expired_date = 4;
	uint64 transaction_frequency_id=5;
	string make_date = 6;
}
message DirectDebitBatchDetailResult {
    uint64 direct_debit_batch_detail_result_id = 1;
    uint64 direct_debit_batch_detail_id = 2;
    Status status_id = 3;
    bytes status_description = 4;
    string created_by = 50;
    google.protobuf.Timestamp created_dt = 51;
    string updated_by = 52;
    google.protobuf.Timestamp updated_dt = 53;
}

message MandateBatchDetails2 {
    uint64 mandate_batch_detail_id = 1;
    uint64 batch_id = 2;
    uint32 no = 3;
    string company_code = 4;
    string company_name = 5;
    string mandate_code = 6;
    string credit_account_number = 7;
    string counter_party_account = 8;
    string counter_party_account_status = 9;
    string counter_party_name = 10;
    string counter_party_address = 11;
    string counter_party_phone_no = 12;
    string counter_party_email = 13;
    string payer_bank = 14;
    string payer_bank_name = 15;
    string currency = 16; 
    uint64 amount_type_id = 17;
    double transaction_amount = 18;
    uint64 transaction_frequency_id = 19;
    uint32 no_of_installment = 20;
    string effective_date = 21;
    string expired_date = 22;
    string remarks = 23;
	uint64 mandate_type_id = 24;
	string file_listener_id = 25;
	uint64 batch_file_upload_id = 26;
	string file_name = 27;
	uint64 mandate_id = 28;
	string created_at = 29;
};

message MandatePurposes{
	string id=1;
	string description=2;
}


message DirectDebitResults {
    uint64 direct_debit_result_id = 1;
    uint64 direct_debit_id = 2;
    uint64 status_id = 3;
    google.protobuf.Timestamp date_hit = 4;
    google.protobuf.Timestamp date_response = 5;
    uint32 http_status_code = 6;
    string response_code = 7;
    string external_id = 8;
    string journal_sequence = 9;
    bytes response_data = 10;
    string response_message = 11;
    string created_by = 50;
    google.protobuf.Timestamp created_dt = 51;
    string updated_by = 52;
    google.protobuf.Timestamp updated_dt = 53;
}


message DirectDebitDetailsSF{
	uint64 batch_id = 1;
	uint64 company_id = 2;           
	string batch_reff_no = 3;          
	uint64 status_batch = 4;
	string company_code = 5;
	string mandate_code = 6;
	string customer_reff_no = 7;
	double transaction_amount = 8;
	string remarks = 9;
	string transaction_status_name = 10;
	string liquidation_remark = 11;
	uint64 transaction_status = 12;
	string transaction_ref_no = 13;
	string credit_account_number = 14;
	string counter_party_account = 15;
	string counter_party_name = 16;
	string payer_bank = 17;
	string payer_bank_name = 18;
	string counter_party_address = 19;
	string counter_party_phone_no = 20;
	string counter_party_email = 21;
	string currency = 22;
	string mandate_category = 23;
	uint64 mandate_type_id = 24;
    string mandate_type = 25;
    string expired_date = 26;
	string make_date = 27;
	string transaction_date = 28;
	string source = 29;
	string file_name = 30;
}

message MandateFrequency{
	uint64 batch_id = 1;
	uint32 no_of_installment = 2;
	string company_code = 3;
	uint64 transaction_frequency_id = 4;
	string effective_date = 5;
	string mandate_code = 6;
	double amount = 7;
	string remarks = 8;
	string make_date = 9;
	google.protobuf.Timestamp transaction_date = 10;
	string cursomer_reff_no = 11;
	uint64 company_id = 12;
	string credit_account_number = 13;
	string expired_date=14;
}

message FileDataDB{
 uint64 batch_id = 1;
 string file_description =2;
 string file_details =3;
}
	
